<mat-card> 
    <mat-card-header><h1>Add messbook</h1></mat-card-header>
    <mat-card-content>
        <form (submit)="addMessBook">
            <mat-form-field style="width: 100%;">
                <mat-label for="title">Title</mat-label>
                <input type="text" matInput [(ngModel)]="messbook.title" name="title">
            </mat-form-field>
            <mat-form-field  style="width: 100%;">
                <mat-label>Choose a Start date</mat-label>
                <input matInput [matDatepicker]="startDate" [(ngModel)] = "messbook.startDate" name="startDate">
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="startDate"></mat-datepicker-toggle>
                <mat-datepicker #startDate></mat-datepicker>
            </mat-form-field>
            <mat-form-field  style="width: 100%;">
                <mat-label>Choose a End date</mat-label>
                <input matInput [matDatepicker]="endDate" [(ngModel)] = "messbook.endDate" name="endDate">
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="endDate"></mat-datepicker-toggle>
                <mat-datepicker #endDate></mat-datepicker>
            </mat-form-field>
                <button type="button" color="primary" style="width: 100%; margin-bottom: 0.5em;" mat-flat-button (click)="fileInput.click()">Attachment (Optional):</button>
                <input hidden  #fileInput type="file"  id="attachment" [(ngModel)]="messbook.attachment" name="attachment">

                <button mat-flat-button color="accent" style="width: 100%;" type="submit">{{ isNew ? "Add" : 'Update' }} Transaction</button>
        </form>
    </mat-card-content>

    <mat-divider style="margin-top: 1.5em;"></mat-divider>
    <mat-card-header><h1>All messbooks</h1></mat-card-header>
    <mat-card-content>
        <table mat-table [dataSource]="messbooks" class="mat-elevation-z8">
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef> No. </th>
                <td mat-cell *matCellDef="let element"> {{ element.id }} </td>
            </ng-container>
            <ng-container matColumnDef="title">
                <th mat-header-cell *matHeaderCellDef> Title </th>
                <td mat-cell *matCellDef="let element"> {{ element.title }} </td>
            </ng-container>
            <ng-container matColumnDef="startDate">
                <th mat-header-cell *matHeaderCellDef> Start Date </th>
                <td mat-cell *matCellDef="let element"> {{ (element.startDate | date ) }} </td>
            </ng-container>
            <ng-container matColumnDef="endDate">
                <th mat-header-cell *matHeaderCellDef> End Date </th>
                <td mat-cell *matCellDef="let element"> {{ element.endDate | date }} </td>
            </ng-container>
            <ng-container matColumnDef="createdBy">
                <th mat-header-cell *matHeaderCellDef> Creator </th>
                <td mat-cell *matCellDef="let element"> {{ element.createdBy }} </td>
            </ng-container>
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef> Status </th>
                <td mat-cell *matCellDef="let element"> {{ element.status }} </td>
            </ng-container>
            <ng-container matColumnDef="attachment">
                <th mat-header-cell *matHeaderCellDef> Attachment </th>
                <td mat-cell *matCellDef="let element"> {{ element.attachment }} </td>
            </ng-container>
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef> Actions </th>
                <td mat-cell *matCellDef="let element"> 
                    <button mat-button color="primary" (click)="getMessBookById(element.id)">Update</button> &nbsp;
                    <button mat-button color="warn" (click)="deleteMessBook(element.id)">Delete</button>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="tableColumnHeaders"></tr>
            <tr mat-row *matRowDef="let row; columns: tableColumnHeaders;"></tr>
        </table>
    </mat-card-content>
</mat-card>
